#! /usr/bin/env python3

import os, sys, time, re

pid = os.getpid()

while 1:
    command = input("\t>>>")

    args = command.split(" ")
    if len(args) is not 3:
        os.write(2, ("%s" % "\nError: invalid input\n").encode())

    else:
        
        rc = os.fork()
        args2 = [args[0],"../"+args[2]]
        if rc == 0:
            
            if len(args) is 3 and args[1] == "<":
                for dir in re.split(":" , os.environ['PATH']):
                    program = "%s/%s" % (dir, args[0])
                    try:
                        os.execve(program, args2, os.environ)
                        pass
                    except FileNotFoundError:
                        pass

    if command == "quit":
        break
    
